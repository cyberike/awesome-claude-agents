import pyaudio\nimport wave\nimport speech_recognition as sr\n\nFORMAT = pyaudio.paInt16\nCHANNELS = 1\nRATE = 16000\nCHUNK = 1024\nRECORD_SECONDS = 5\nWAVE_OUTPUT_FILENAME = "audio.wav"\n\naudio = pyaudio.PyAudio()\n\nstream = audio.open(format=FORMAT, channels=CHANNELS,\n                rate=RATE, input=True,\n                frames_per_buffer=CHUNK)\nprint("Recording...")\nframes = []\n\nfor i in range(0, int(RATE / CHUNK * RECORD_SECONDS)):\n    data = stream.read(CHUNK)\n    frames.append(data)\nprint("Finished recording")\n\nstream.stop_stream()\nstream.close()\naudio.terminate()\n\nwf = wave.open(WAVE_OUTPUT_FILENAME, 'wb')\nwf.setnchannels(CHANNELS)\nwf.setsampwidth(audio.get_sample_size(FORMAT))\nwf.setframerate(RATE)\nwf.writeframes(b''.join(frames))\nwf.close()\n\nr = sr.Recognizer()\nwith sr.AudioFile(WAVE_OUTPUT_FILENAME) as source:\n    audio = r.record(source)\n\ntext = r.recognize_google(audio)\nprint(f"Recognized text: {text}")\n